{"ast":null,"code":"import _slicedToArray from\"C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// CSS\nimport styles from\"./Home.module.css\";// hooks\nimport{useFetchDocuments}from\"../../hooks/useFetchDocuments\";import{useNavigate,Link}from\"react-router-dom\";// react\nimport{useState}from\"react\";// components\nimport PostDetail from\"../../components/PostDetail\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useFetchDocuments=useFetchDocuments(\"posts\"),posts=_useFetchDocuments.documents,loading=_useFetchDocuments.loading;var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var handleSubmit=function handleSubmit(e){e.preventDefault();if(query){return navigate(\"/search?q=\".concat(query));}};console.log(loading);return/*#__PURE__*/_jsxs(\"div\",{className:styles.home,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Veja os nossos posts mais recentes\"}),/*#__PURE__*/_jsxs(\"form\",{className:styles.search_form,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Ou busque por tags...\",onChange:function onChange(e){return setQuery(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",children:\"Pesquisar\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-list\",children:[loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"}),posts&&posts.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:styles.noposts,children:[/*#__PURE__*/_jsx(\"p\",{children:\"N\\xE3o foram encontrados posts\"}),/*#__PURE__*/_jsx(Link,{to:\"/posts/create\",className:\"btn\",children:\"Criar primeiro post\"})]}),posts&&posts.map(function(post){return/*#__PURE__*/_jsx(PostDetail,{post:post},post.id);})]})]});};export default Home;","map":{"version":3,"names":["styles","useFetchDocuments","useNavigate","Link","useState","PostDetail","jsx","_jsx","jsxs","_jsxs","Home","_useFetchDocuments","posts","documents","loading","navigate","_useState","_useState2","_slicedToArray","query","setQuery","handleSubmit","e","preventDefault","concat","console","log","className","home","children","search_form","onSubmit","type","placeholder","onChange","target","value","length","noposts","to","map","post","id"],"sources":["C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/src/pages/Home/Home.js"],"sourcesContent":["// CSS\nimport styles from \"./Home.module.css\";\n\n// hooks\nimport { useFetchDocuments } from \"../../hooks/useFetchDocuments\";\nimport { useNavigate, Link } from \"react-router-dom\";\n\n// react\nimport { useState } from \"react\";\n\n// components\nimport PostDetail from \"../../components/PostDetail\";\n\nconst Home = () => {\n  const { documents: posts, loading } = useFetchDocuments(\"posts\");\n\n  const navigate = useNavigate();\n\n  const [query, setQuery] = useState(\"\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (query) {\n      return navigate(`/search?q=${query}`);\n    }\n  };\n\n  console.log(loading);\n\n  return (\n    <div className={styles.home}>\n      <h1>Veja os nossos posts mais recentes</h1>\n      <form className={styles.search_form} onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Ou busque por tags...\"\n          onChange={(e) => setQuery(e.target.value)}\n        />\n        <button className=\"btn btn-dark\">Pesquisar</button>\n      </form>\n      <div className=\"post-list\">\n        {loading && <p>Carregando...</p>}\n        {posts && posts.length === 0 && (\n          <div className={styles.noposts}>\n            <p>NÃ£o foram encontrados posts</p>\n            <Link to=\"/posts/create\" className=\"btn\">\n              Criar primeiro post\n            </Link>\n          </div>\n        )}\n        {posts && posts.map((post) => <PostDetail key={post.id} post={post} />)}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"uIAAA;AACA,MAAO,CAAAA,MAAM,KAAM,mBAAmB,CAEtC;AACA,OAASC,iBAAiB,KAAQ,+BAA+B,CACjE,OAASC,WAAW,CAAEC,IAAI,KAAQ,kBAAkB,CAEpD;AACA,OAASC,QAAQ,KAAQ,OAAO,CAEhC;AACA,MAAO,CAAAC,UAAU,KAAM,6BAA6B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErD,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAA,CAAS,CACjB,IAAAC,kBAAA,CAAsCV,iBAAiB,CAAC,OAAO,CAAC,CAA7CW,KAAK,CAAAD,kBAAA,CAAhBE,SAAS,CAASC,OAAO,CAAAH,kBAAA,CAAPG,OAAO,CAEjC,GAAM,CAAAC,QAAQ,CAAGb,WAAW,EAAE,CAE9B,IAAAc,SAAA,CAA0BZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAEtB,GAAM,CAAAI,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,CAAC,CAAK,CAC1BA,CAAC,CAACC,cAAc,EAAE,CAElB,GAAIJ,KAAK,CAAE,CACT,MAAO,CAAAJ,QAAQ,cAAAS,MAAA,CAAcL,KAAK,EAAG,CACvC,CACF,CAAC,CAEDM,OAAO,CAACC,GAAG,CAACZ,OAAO,CAAC,CAEpB,mBACEL,KAAA,QAAKkB,SAAS,CAAE3B,MAAM,CAAC4B,IAAK,CAAAC,QAAA,eAC1BtB,IAAA,OAAAsB,QAAA,CAAI,oCAAkC,EAAK,cAC3CpB,KAAA,SAAMkB,SAAS,CAAE3B,MAAM,CAAC8B,WAAY,CAACC,QAAQ,CAAEV,YAAa,CAAAQ,QAAA,eAC1DtB,IAAA,UACEyB,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,uBAAuB,CACnCC,QAAQ,CAAE,SAAAA,SAACZ,CAAC,QAAK,CAAAF,QAAQ,CAACE,CAAC,CAACa,MAAM,CAACC,KAAK,CAAC,EAAC,EAC1C,cACF7B,IAAA,WAAQoB,SAAS,CAAC,cAAc,CAAAE,QAAA,CAAC,WAAS,EAAS,GAC9C,cACPpB,KAAA,QAAKkB,SAAS,CAAC,WAAW,CAAAE,QAAA,EACvBf,OAAO,eAAIP,IAAA,MAAAsB,QAAA,CAAG,eAAa,EAAI,CAC/BjB,KAAK,EAAIA,KAAK,CAACyB,MAAM,GAAK,CAAC,eAC1B5B,KAAA,QAAKkB,SAAS,CAAE3B,MAAM,CAACsC,OAAQ,CAAAT,QAAA,eAC7BtB,IAAA,MAAAsB,QAAA,CAAG,gCAA2B,EAAI,cAClCtB,IAAA,CAACJ,IAAI,EAACoC,EAAE,CAAC,eAAe,CAACZ,SAAS,CAAC,KAAK,CAAAE,QAAA,CAAC,qBAEzC,EAAO,GAEV,CACAjB,KAAK,EAAIA,KAAK,CAAC4B,GAAG,CAAC,SAACC,IAAI,qBAAKlC,IAAA,CAACF,UAAU,EAAeoC,IAAI,CAAEA,IAAK,EAApBA,IAAI,CAACC,EAAE,CAAgB,GAAC,GACnE,GACF,CAEV,CAAC,CAED,cAAe,CAAAhC,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}