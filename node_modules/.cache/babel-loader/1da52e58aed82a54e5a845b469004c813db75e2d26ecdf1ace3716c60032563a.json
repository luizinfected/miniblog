{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./Login.module.css\";import{useEffect,useState}from\"react\";import{useAuthentication}from\"../../hooks/useAuthentication\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var _useAuthentication=useAuthentication(),login=_useAuthentication.login,authError=_useAuthentication.error,loading=_useAuthentication.loading;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var user,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setError(\"\");user={email:email,password:password};_context.next=5;return login(user);case 5:res=_context.sent;console.log(res);case 7:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();useEffect(function(){console.log(authError);if(authError){setError(authError);}},[authError]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.login,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Entrar\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Fa\\xE7a o login para poder utilizar o sistema\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"E-mail:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",required:true,placeholder:\"E-mail do usu\\xE1rio\",onChange:function onChange(e){return setEmail(e.target.value);},value:email})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Senha:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",required:true,placeholder:\"Insira a senha\",onChange:function onChange(e){return setPassword(e.target.value);},value:password})]}),!loading&&/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:\"Entrar\"}),loading&&/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,children:\"Aguarde...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error})]})]});};export default Login;","map":{"version":3,"names":["styles","useEffect","useState","useAuthentication","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","error","setError","_useAuthentication","login","authError","loading","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","user","res","wrap","_callee$","_context","prev","next","preventDefault","sent","console","log","stop","_x","apply","arguments","className","children","onSubmit","type","name","required","placeholder","onChange","target","value","disabled"],"sources":["C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/src/pages/Login/Login.js"],"sourcesContent":["import styles from \"./Login.module.css\";\n\nimport { useEffect, useState } from \"react\";\nimport { useAuthentication } from \"../../hooks/useAuthentication\";\n\nconst Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const { login, error: authError, loading } = useAuthentication();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    setError(\"\");\n\n    const user = {\n      email,\n      password,\n    };\n\n    const res = await login(user);\n\n    console.log(res);\n  };\n\n  useEffect(() => {\n    console.log(authError);\n    if (authError) {\n      setError(authError);\n    }\n  }, [authError]);\n\n  return (\n    <div className={styles.login}>\n      <h1>Entrar</h1>\n      <p>Faça o login para poder utilizar o sistema</p>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>E-mail:</span>\n          <input\n            type=\"email\"\n            name=\"email\"\n            required\n            placeholder=\"E-mail do usuário\"\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n          />\n        </label>\n        <label>\n          <span>Senha:</span>\n          <input\n            type=\"password\"\n            name=\"password\"\n            required\n            placeholder=\"Insira a senha\"\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n          />\n        </label>\n        {!loading && <button className=\"btn\">Entrar</button>}\n        {loading && (\n          <button className=\"btn\" disabled>\n            Aguarde...\n          </button>\n        )}\n        {error && <p className=\"error\">{error}</p>}\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}