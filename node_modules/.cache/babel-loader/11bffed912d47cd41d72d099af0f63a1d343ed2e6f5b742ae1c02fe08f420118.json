{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"./Register.module.css\";import{useEffect,useState}from\"react\";import{useAuthentication}from\"../../hooks/useAuthentication\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),displayName=_useState2[0],setDisplayName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var _useAuthentication=useAuthentication(),createUser=_useAuthentication.createUser,authError=_useAuthentication.error,loading=_useAuthentication.loading;var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var user,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setError(\"\");user={displayName:displayName,email:email,password:password};if(!(password!==confirmPassword)){_context.next=6;break;}setError(\"As senhas precisam ser iguais.\");return _context.abrupt(\"return\");case 6:_context.next=8;return createUser(user);case 8:res=_context.sent;console.log(res);case 10:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();useEffect(function(){if(authError){setError(authError);}},[authError]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.register,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Cadastre-se para postar\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Crie seu usu\\xE1rio e compartilhe suas hist\\xF3rias\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Nome:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"displayName\",required:true,placeholder:\"Nome do usu\\xE1rio\",onChange:function onChange(e){return setDisplayName(e.target.value);},value:displayName})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"E-mail:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",required:true,placeholder:\"E-mail do usu\\xE1rio\",onChange:function onChange(e){return setEmail(e.target.value);},value:email})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Senha:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",required:true,placeholder:\"Insira a senha\",onChange:function onChange(e){return setPassword(e.target.value);},value:password})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Confirma\\xE7\\xE3o de senha:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirmPassword\",required:true,placeholder:\"Confirme a senha\",onChange:function onChange(e){return setConfirmPassword(e.target.value);},value:confirmPassword})]}),!loading&&/*#__PURE__*/_jsx(\"button\",{className:\"btn\",children:\"Entrar\"}),loading&&/*#__PURE__*/_jsx(\"button\",{className:\"btn\",disabled:true,children:\"Aguarde...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error})]})]});};export default Register;","map":{"version":3,"names":["styles","useEffect","useState","useAuthentication","jsx","_jsx","jsxs","_jsxs","Register","_useState","_useState2","_slicedToArray","displayName","setDisplayName","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","_useState7","_useState8","confirmPassword","setConfirmPassword","_useState9","_useState10","error","setError","_useAuthentication","createUser","authError","loading","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","user","res","wrap","_callee$","_context","prev","next","preventDefault","abrupt","sent","console","log","stop","_x","apply","arguments","className","register","children","onSubmit","type","name","required","placeholder","onChange","target","value","disabled"],"sources":["C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/src/pages/Register/Register.js"],"sourcesContent":["import styles from \"./Register.module.css\";\n\nimport { useEffect, useState } from \"react\";\nimport { useAuthentication } from \"../../hooks/useAuthentication\";\n\nconst Register = () => {\n  const [displayName, setDisplayName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const { createUser, error: authError, loading } = useAuthentication();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    setError(\"\");\n\n    const user = {\n      displayName,\n      email,\n      password,\n    };\n\n    if (password !== confirmPassword) {\n      setError(\"As senhas precisam ser iguais.\");\n      return;\n    }\n\n    const res = await createUser(user);\n\n    console.log(res);\n  };\n\n  useEffect(() => {\n    if (authError) {\n      setError(authError);\n    }\n  }, [authError]);\n\n  return (\n    <div className={styles.register}>\n      <h1>Cadastre-se para postar</h1>\n      <p>Crie seu usuário e compartilhe suas histórias</p>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Nome:</span>\n          <input\n            type=\"text\"\n            name=\"displayName\"\n            required\n            placeholder=\"Nome do usuário\"\n            onChange={(e) => setDisplayName(e.target.value)}\n            value={displayName}\n          />\n        </label>\n        <label>\n          <span>E-mail:</span>\n          <input\n            type=\"email\"\n            name=\"email\"\n            required\n            placeholder=\"E-mail do usuário\"\n            onChange={(e) => setEmail(e.target.value)}\n            value={email}\n          />\n        </label>\n        <label>\n          <span>Senha:</span>\n          <input\n            type=\"password\"\n            name=\"password\"\n            required\n            placeholder=\"Insira a senha\"\n            onChange={(e) => setPassword(e.target.value)}\n            value={password}\n          />\n        </label>\n        <label>\n          <span>Confirmação de senha:</span>\n          <input\n            type=\"password\"\n            name=\"confirmPassword\"\n            required\n            placeholder=\"Confirme a senha\"\n            onChange={(e) => setConfirmPassword(e.target.value)}\n            value={confirmPassword}\n          />\n        </label>\n        {!loading && <button className=\"btn\">Entrar</button>}\n        {loading && (\n          <button className=\"btn\" disabled>\n            Aguarde...\n          </button>\n        )}\n        {error && <p className=\"error\">{error}</p>}\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}