{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{db}from\"../firebase/config\";import{doc,getDoc}from\"firebase/firestore\";export var useFetchDocument=function useFetchDocument(docCollection,id){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),document=_useState2[0],setDocument=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];useEffect(function(){var loadDocument=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var docRef,docSnap;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return doc(db,docCollection,id);case 4:docRef=_context.sent;_context.next=7;return getDoc(docRef);case 7:docSnap=_context.sent;setDocument(docSnap.data());_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);console.log(_context.t0);setError(_context.t0.message);case 15:setLoading(false);case 16:case\"end\":return _context.stop();}},_callee,null,[[1,11]]);}));return function loadDocument(){return _ref.apply(this,arguments);};}();loadDocument();},[docCollection,id]);console.log(document);return{document:document,loading:loading,error:error};};","map":{"version":3,"names":["useState","useEffect","db","doc","getDoc","useFetchDocument","docCollection","id","_useState","_useState2","_slicedToArray","document","setDocument","_useState3","_useState4","error","setError","_useState5","_useState6","loading","setLoading","loadDocument","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","docRef","docSnap","wrap","_callee$","_context","prev","next","sent","data","t0","console","log","message","stop","apply","arguments"],"sources":["C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/src/hooks/useFetchDocument.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { db } from \"../firebase/config\";\nimport { doc, getDoc } from \"firebase/firestore\";\n\nexport const useFetchDocument = (docCollection, id) => {\n  const [document, setDocument] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(null);\n\n  useEffect(() => {\n    const loadDocument = async () => {\n      setLoading(true);\n\n      try {\n        const docRef = await doc(db, docCollection, id);\n        const docSnap = await getDoc(docRef);\n\n        setDocument(docSnap.data());\n      } catch (error) {\n        console.log(error);\n        setError(error.message);\n      }\n\n      setLoading(false);\n    };\n\n    loadDocument();\n  }, [docCollection, id]);\n\n  console.log(document);\n\n  return { document, loading, error };\n};\n"],"mappings":"qaAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,EAAE,KAAQ,oBAAoB,CACvC,OAASC,GAAG,CAAEC,MAAM,KAAQ,oBAAoB,CAEhD,MAAO,IAAM,CAAAC,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIC,aAAa,CAAEC,EAAE,CAAK,CACrD,IAAAC,SAAA,CAAgCR,QAAQ,CAAC,IAAI,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAvCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAA0Bb,QAAQ,CAAC,IAAI,CAAC,CAAAc,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAA8BjB,QAAQ,CAAC,IAAI,CAAC,CAAAkB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAArCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1BjB,SAAS,CAAC,UAAM,CACd,GAAM,CAAAoB,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,MAAA,CAAAC,OAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACnBb,UAAU,CAAC,IAAI,CAAC,CAACW,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAGM,CAAA9B,GAAG,CAACD,EAAE,CAAEI,aAAa,CAAEC,EAAE,CAAC,QAAzCoB,MAAM,CAAAI,QAAA,CAAAG,IAAA,CAAAH,QAAA,CAAAE,IAAA,SACU,CAAA7B,MAAM,CAACuB,MAAM,CAAC,QAA9BC,OAAO,CAAAG,QAAA,CAAAG,IAAA,CAEbtB,WAAW,CAACgB,OAAO,CAACO,IAAI,EAAE,CAAC,CAACJ,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAK,EAAA,CAAAL,QAAA,aAE5BM,OAAO,CAACC,GAAG,CAAAP,QAAA,CAAAK,EAAA,CAAO,CAClBpB,QAAQ,CAACe,QAAA,CAAAK,EAAA,CAAMG,OAAO,CAAC,CAAC,QAG1BnB,UAAU,CAAC,KAAK,CAAC,CAAC,yBAAAW,QAAA,CAAAS,IAAA,MAAAd,OAAA,iBACnB,kBAdK,CAAAL,YAAYA,CAAA,SAAAC,IAAA,CAAAmB,KAAA,MAAAC,SAAA,OAcjB,CAEDrB,YAAY,EAAE,CAChB,CAAC,CAAE,CAACf,aAAa,CAAEC,EAAE,CAAC,CAAC,CAEvB8B,OAAO,CAACC,GAAG,CAAC3B,QAAQ,CAAC,CAErB,MAAO,CAAEA,QAAQ,CAARA,QAAQ,CAAEQ,OAAO,CAAPA,OAAO,CAAEJ,KAAK,CAALA,KAAM,CAAC,CACrC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}