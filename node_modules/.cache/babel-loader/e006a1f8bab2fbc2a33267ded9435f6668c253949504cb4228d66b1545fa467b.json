{"ast":null,"code":"import styles from\"./Dashboard.module.css\";import{Link}from\"react-router-dom\";import{useAuthValue}from\"../../contexts/AuthContext\";import{useFetchDocuments}from\"../../hooks/useFetchDocuments\";import{useDeleteDocument}from\"../../hooks/useDeleteDocument\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Dashboard=function Dashboard(){var _useAuthValue=useAuthValue(),user=_useAuthValue.user;var uid=user.uid;var _useFetchDocuments=useFetchDocuments(\"posts\",null,uid),posts=_useFetchDocuments.documents;var _useDeleteDocument=useDeleteDocument(\"posts\"),deleteDocument=_useDeleteDocument.deleteDocument;console.log(uid);console.log(posts);return/*#__PURE__*/_jsxs(\"div\",{className:styles.dashboard,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Gerencie os seus posts\"}),posts&&posts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:styles.noposts,children:[/*#__PURE__*/_jsx(\"p\",{children:\"N\\xE3o foram encontrados posts\"}),/*#__PURE__*/_jsx(Link,{to:\"/posts/create\",className:\"btn\",children:\"Criar primeiro post\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:styles.post_header,children:[/*#__PURE__*/_jsx(\"span\",{children:\"T\\xEDtulo\"}),/*#__PURE__*/_jsx(\"span\",{children:\"A\\xE7\\xF5es\"})]}),posts&&posts.map(function(post){return/*#__PURE__*/_jsxs(\"div\",{className:styles.post_row,children:[/*#__PURE__*/_jsx(\"p\",{children:post.title}),/*#__PURE__*/_jsxs(\"div\",{className:styles.actions,children:[/*#__PURE__*/_jsx(Link,{to:\"/posts/\".concat(post.id),className:\"btn btn-outline\",children:\"Ver\"}),/*#__PURE__*/_jsx(Link,{to:\"/posts/edit/\".concat(post.id),className:\"btn btn-outline\",children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return deleteDocument(post.id);},className:\"btn btn-outline btn-danger\",children:\"Excluir\"})]})]},post.id);})]});};export default Dashboard;","map":{"version":3,"names":["styles","Link","useAuthValue","useFetchDocuments","useDeleteDocument","jsx","_jsx","jsxs","_jsxs","Dashboard","_useAuthValue","user","uid","_useFetchDocuments","posts","documents","_useDeleteDocument","deleteDocument","console","log","className","dashboard","children","length","noposts","to","post_header","map","post","post_row","title","actions","concat","id","onClick"],"sources":["C:/Users/Luiz.E.Costa/Desktop/Code/Curso/miniblog/src/pages/Dashboard/Dashboard.js"],"sourcesContent":["import styles from \"./Dashboard.module.css\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { useAuthValue } from \"../../contexts/AuthContext\";\nimport { useFetchDocuments } from \"../../hooks/useFetchDocuments\";\nimport { useDeleteDocument } from \"../../hooks/useDeleteDocument\";\n\nconst Dashboard = () => {\n  const { user } = useAuthValue();\n  const uid = user.uid;\n\n  const { documents: posts } = useFetchDocuments(\"posts\", null, uid);\n\n  const { deleteDocument } = useDeleteDocument(\"posts\");\n\n  console.log(uid);\n  console.log(posts);\n\n  return (\n    <div className={styles.dashboard}>\n      <h2>Dashboard</h2>\n      <p>Gerencie os seus posts</p>\n      {posts && posts.length === 0 ? (\n        <div className={styles.noposts}>\n          <p>Não foram encontrados posts</p>\n          <Link to=\"/posts/create\" className=\"btn\">\n            Criar primeiro post\n          </Link>\n        </div>\n      ) : (\n        <div className={styles.post_header}>\n          <span>Título</span>\n          <span>Ações</span>\n        </div>\n      )}\n\n      {posts &&\n        posts.map((post) => (\n          <div className={styles.post_row} key={post.id}>\n            <p>{post.title}</p>\n            <div className={styles.actions}>\n              <Link to={`/posts/${post.id}`} className=\"btn btn-outline\">\n                Ver\n              </Link>\n              <Link to={`/posts/edit/${post.id}`} className=\"btn btn-outline\">\n                Editar\n              </Link>\n              <button\n                onClick={() => deleteDocument(post.id)}\n                className=\"btn btn-outline btn-danger\"\n              >\n                Excluir\n              </button>\n            </div>\n          </div>\n        ))}\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"AAAA,MAAO,CAAAA,MAAM,KAAM,wBAAwB,CAE3C,OAASC,IAAI,KAAQ,kBAAkB,CAEvC,OAASC,YAAY,KAAQ,4BAA4B,CACzD,OAASC,iBAAiB,KAAQ,+BAA+B,CACjE,OAASC,iBAAiB,KAAQ,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElE,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,IAAAC,aAAA,CAAiBR,YAAY,EAAE,CAAvBS,IAAI,CAAAD,aAAA,CAAJC,IAAI,CACZ,GAAM,CAAAC,GAAG,CAAGD,IAAI,CAACC,GAAG,CAEpB,IAAAC,kBAAA,CAA6BV,iBAAiB,CAAC,OAAO,CAAE,IAAI,CAAES,GAAG,CAAC,CAA/CE,KAAK,CAAAD,kBAAA,CAAhBE,SAAS,CAEjB,IAAAC,kBAAA,CAA2BZ,iBAAiB,CAAC,OAAO,CAAC,CAA7Ca,cAAc,CAAAD,kBAAA,CAAdC,cAAc,CAEtBC,OAAO,CAACC,GAAG,CAACP,GAAG,CAAC,CAChBM,OAAO,CAACC,GAAG,CAACL,KAAK,CAAC,CAElB,mBACEN,KAAA,QAAKY,SAAS,CAAEpB,MAAM,CAACqB,SAAU,CAAAC,QAAA,eAC/BhB,IAAA,OAAAgB,QAAA,CAAI,WAAS,EAAK,cAClBhB,IAAA,MAAAgB,QAAA,CAAG,wBAAsB,EAAI,CAC5BR,KAAK,EAAIA,KAAK,CAACS,MAAM,GAAK,CAAC,cAC1Bf,KAAA,QAAKY,SAAS,CAAEpB,MAAM,CAACwB,OAAQ,CAAAF,QAAA,eAC7BhB,IAAA,MAAAgB,QAAA,CAAG,gCAA2B,EAAI,cAClChB,IAAA,CAACL,IAAI,EAACwB,EAAE,CAAC,eAAe,CAACL,SAAS,CAAC,KAAK,CAAAE,QAAA,CAAC,qBAEzC,EAAO,GACH,cAENd,KAAA,QAAKY,SAAS,CAAEpB,MAAM,CAAC0B,WAAY,CAAAJ,QAAA,eACjChB,IAAA,SAAAgB,QAAA,CAAM,WAAM,EAAO,cACnBhB,IAAA,SAAAgB,QAAA,CAAM,aAAK,EAAO,GAErB,CAEAR,KAAK,EACJA,KAAK,CAACa,GAAG,CAAC,SAACC,IAAI,qBACbpB,KAAA,QAAKY,SAAS,CAAEpB,MAAM,CAAC6B,QAAS,CAAAP,QAAA,eAC9BhB,IAAA,MAAAgB,QAAA,CAAIM,IAAI,CAACE,KAAK,EAAK,cACnBtB,KAAA,QAAKY,SAAS,CAAEpB,MAAM,CAAC+B,OAAQ,CAAAT,QAAA,eAC7BhB,IAAA,CAACL,IAAI,EAACwB,EAAE,WAAAO,MAAA,CAAYJ,IAAI,CAACK,EAAE,CAAG,CAACb,SAAS,CAAC,iBAAiB,CAAAE,QAAA,CAAC,KAE3D,EAAO,cACPhB,IAAA,CAACL,IAAI,EAACwB,EAAE,gBAAAO,MAAA,CAAiBJ,IAAI,CAACK,EAAE,CAAG,CAACb,SAAS,CAAC,iBAAiB,CAAAE,QAAA,CAAC,QAEhE,EAAO,cACPhB,IAAA,WACE4B,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAjB,cAAc,CAACW,IAAI,CAACK,EAAE,CAAC,EAAC,CACvCb,SAAS,CAAC,4BAA4B,CAAAE,QAAA,CACvC,SAED,EAAS,GACL,GAf8BM,IAAI,CAACK,EAAE,CAgBvC,EACP,CAAC,GACA,CAEV,CAAC,CAED,cAAe,CAAAxB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}